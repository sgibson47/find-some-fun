{"ast":null,"code":"import _classCallCheck from \"/Users/samanthagibson/Development/code/find-some-fun/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/samanthagibson/Development/code/find-some-fun/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/samanthagibson/Development/code/find-some-fun/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/samanthagibson/Development/code/find-some-fun/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/samanthagibson/Development/code/find-some-fun/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/samanthagibson/Development/code/find-some-fun/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/samanthagibson/Development/code/find-some-fun/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport EventForm from './components/Form';\nimport EventsList from './containers/EventsList';\nimport Container from 'react-bootstrap/Container';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Alert from 'react-bootstrap/Alert';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      events: [],\n      location: {\n        lat: 51.505,\n        long: -0.09\n      },\n      alert: null\n    };\n    _this.searchEB = _this.searchEB.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addWarning = _this.addWarning.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      navigator.geolocation.getCurrentPosition(function (position) {\n        _this2.setState({\n          location: {\n            lat: position.coords.latitude,\n            long: position.coords.longitude\n          }\n        });\n      }, function () {\n        fetch('https://ipapi.co/json').then(function (response) {\n          return response.json();\n        }).then(function (location) {\n          _this2.setState({\n            location: {\n              lat: location.latitude,\n              long: location.longitude\n            }\n          });\n        });\n      });\n    }\n  }, {\n    key: \"addWarning\",\n    value: function addWarning(message) {\n      var _this3 = this;\n\n      this.setState({\n        alert: React.createElement(Alert, {\n          dismissible: true,\n          variant: \"warning\",\n          onClose: function onClose() {\n            return _this3.removeWarning();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(Alert.Heading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, message))\n      });\n    }\n  }, {\n    key: \"removeWarning\",\n    value: function removeWarning() {\n      this.setState({\n        alert: null\n      });\n    }\n  }, {\n    key: \"searchEB\",\n    value: function searchEB(eventKeyword, category) {\n      var _this4 = this;\n\n      var auth_token = process.env.REACT_APP_EVENTBRITE_API_KEY;\n      var keywordString = eventKeyword.split(\" \").join('+');\n      fetch(\"https://www.eventbriteapi.com/v3/events/search/?q=\".concat(keywordString, \"&location.latitude=\").concat(this.state.location.lat, \"&location.longitude=\").concat(this.state.location.long, \"&categories=\").concat(category, \"&token=\").concat(auth_token)).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(data);\n\n        if (data.events.length === 0) {\n          _this4.addWarning(\"Eventbrite doesn't have any events that match your search.\");\n        } else {\n          _this4.setState({\n            events: data.events\n          });\n        }\n      });\n    }\n  }, {\n    key: \"addAppContents\",\n    value: function addAppContents() {\n      return React.createElement(React.Fragment, null, React.createElement(EventForm, {\n        searchEB: this.searchEB,\n        addWarning: this.addWarning,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(EventsList, {\n        events: this.state.events,\n        addWarning: this.addWarning,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        bg: \"dark\",\n        variant: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Navbar.Brand, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Find Some Fun\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), this.addAppContents(), this.state.alert, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(Navbar, {\n        bg: \"dark\",\n        variant: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Navbar.Brand, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"\\xA9 Sam Gibson 2019\")));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/samanthagibson/Development/code/find-some-fun/src/App.js"],"names":["React","Component","EventForm","EventsList","Container","Navbar","Alert","App","props","state","events","location","lat","long","alert","searchEB","bind","addWarning","navigator","geolocation","getCurrentPosition","position","setState","coords","latitude","longitude","fetch","then","response","json","message","removeWarning","eventKeyword","category","auth_token","process","env","REACT_APP_EVENTBRITE_API_KEY","keywordString","split","join","data","console","log","length","addAppContents"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport EventForm from './components/Form';\nimport EventsList from './containers/EventsList';\nimport Container from 'react-bootstrap/Container';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Alert from 'react-bootstrap/Alert';\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state={\n      events: [],\n      location: {\n        lat: 51.505,\n        long: -0.09\n      },\n      alert: null\n    };\n    this.searchEB = this.searchEB.bind(this);\n    this.addWarning = this.addWarning.bind(this)\n  }\n\n  componentDidMount(){\n    navigator.geolocation.getCurrentPosition((position) =>{\n      this.setState({\n        location:{\n          lat: position.coords.latitude,\n          long: position.coords.longitude\n        }\n      })\n    }, () =>{\n      fetch('https://ipapi.co/json')\n        .then(response => response.json())\n        .then((location)=>{\n          this.setState({\n            location:{\n              lat: location.latitude,\n              long: location.longitude\n            }\n          })\n        })\n    })\n  }\n\n  addWarning(message) {\n    this.setState({\n      alert: (<Alert dismissible variant=\"warning\" onClose={() => this.removeWarning()}>\n        <Alert.Heading>{message}</Alert.Heading>\n      </Alert>)\n    })\n  }\n\n  removeWarning(){\n    this.setState({alert: null})\n  }\n\n  searchEB(eventKeyword, category){\n    const auth_token = process.env.REACT_APP_EVENTBRITE_API_KEY;\n    const keywordString = eventKeyword.split(\" \").join('+')\n    fetch(`https://www.eventbriteapi.com/v3/events/search/?q=${keywordString}&location.latitude=${this.state.location.lat}&location.longitude=${this.state.location.long}&categories=${category}&token=${auth_token}`)\n      .then(response => response.json())\n      .then(data => {\n        console.log(data);\n        if(data.events.length === 0){\n          this.addWarning(`Eventbrite doesn't have any events that match your search.`)\n        }else{\n          this.setState({events: data.events})\n        }\n      })\n  }\n\n  addAppContents(){\n    return(\n        <>\n          <EventForm searchEB={this.searchEB} addWarning={this.addWarning}/>\n          <EventsList events={this.state.events} addWarning={this.addWarning}/>\n        </>\n    )\n  }\n  \n  render() {\n    return(\n      <Container>\n        <Navbar bg=\"dark\" variant=\"dark\">\n          <Navbar.Brand>Find Some Fun</Navbar.Brand>\n        </Navbar>\n        <br/>\n        {this.addAppContents()}\n        {this.state.alert}\n        <br/>\n        <Navbar bg=\"dark\" variant=\"dark\">\n          <Navbar.Brand>Â© Sam Gibson 2019</Navbar.Brand>\n        </Navbar>\n      </Container>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}